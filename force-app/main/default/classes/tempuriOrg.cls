//Generated by wsdl2apex
// 2012-03-02 jba/pjc : CR0002 / Case 2999 : Add SourceId and TokenId to request header from EBS Message Data custom setting

public class tempuriOrg {
    public class BrokerInboundRequestResponse_element {
        public String BrokerInboundRequestResult;
        private String[] BrokerInboundRequestResult_type_info = new String[]{'BrokerInboundRequestResult','http://www.w3.org/2001/XMLSchema','string','0','1','false'};
        private String[] apex_schema_type_info = new String[]{'http://tempuri.org/','true','false'};
        private String[] field_order_type_info = new String[]{'BrokerInboundRequestResult'};
    }
    public class GenericInboundBrokerSoap 
    {
        //public String endpoint_x = 'http://80.194.71.201:80/GenericInboundBroker.asmx';
        public String endpoint_x = 'http://80.194.71.201:80/InboundBrokerService/GenericInboundBroker.asmx';
       
        public Map<String,String> inputHttpHeaders_x;
        public Map<String,String> outputHttpHeaders_x;
        public String clientCertName_x;
        public String clientCert_x;
        public String clientCertPasswd_x;
        public Integer timeout_x;
        private String[] ns_map_type_info = new String[]{'http://tempuri.org/', 'tempuriOrg'};
        public String BrokerInboundRequest(String xml) 
        {
            
             Webservice_Setting__c  ws = Webservice_Setting__c.getValues('Webservice Endpoint'); 
            if (ws != null)
            {
                endpoint_x = ws.Value__c;
            }
            else
            {
                endpoint_x = 'https://www.ibb-bank.com/InboundBroker/GenericInboundBroker.asmx?op=BrokerInboundRequest';
            }
            
            tempuriOrg.BrokerInboundRequest_element request_x = new tempuriOrg.BrokerInboundRequest_element();
            tempuriOrg.BrokerInboundRequestResponse_element response_x;
            EBS_Message_Data__c es = EBS_Message_Data__c.getValues('Default');
            request_x.SourceID = es.SourceID__c;
            request_x.TokenID = es.TokenID__c;
            request_x.xml = xml;
            Map<String, tempuriOrg.BrokerInboundRequestResponse_element> response_map_x = new Map<String, tempuriOrg.BrokerInboundRequestResponse_element>();
            response_map_x.put('response_x', response_x);
            WebServiceCallout.invoke(
              this,
              request_x,
              response_map_x,
              new String[]{endpoint_x,
              'http://tempuri.org/BrokerInboundRequest',
              'http://tempuri.org/',
              'BrokerInboundRequest',
              'http://tempuri.org/',
              'BrokerInboundRequestResponse',
              'tempuriOrg.BrokerInboundRequestResponse_element'}
            );
            response_x = response_map_x.get('response_x');
            return response_x.BrokerInboundRequestResult;
        }
    }
    public class BrokerInboundRequest_element {
        public String SourceID;
        public String TokenID;
        public String xml;
        private String[] SourceID_type_info = new String[]{'SourceID','http://www.w3.org/2001/XMLSchema','string','0','1','false'};
        private String[] TokenID_type_info = new String[]{'TokenID','http://www.w3.org/2001/XMLSchema','string','0','1','false'};
        private String[] xml_type_info = new String[]{'xml','http://www.w3.org/2001/XMLSchema','string','0','1','false'};
        private String[] apex_schema_type_info = new String[]{'http://tempuri.org/','true','false'};
        private String[] field_order_type_info = new String[]{'SourceID','TokenID','xml'};
    }
}